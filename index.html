<!DOCTYPE html>
<html lang="en">
<head>
Â Â <meta charset="UTF-8" />
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â Â <title>Solo Leveling Grind</title>
Â Â <link rel="icon" href="https://upload.wikimedia.org/wikipedia/en/2/23/Solo_Leveling_logo.png" type="image/png">
Â Â <script src="https://cdn.tailwindcss.com"></script>
Â Â <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
Â Â <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
Â Â <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
Â Â <style>
Â Â Â Â body {
Â Â Â Â Â Â margin: 0;
Â Â Â Â Â Â font-family: 'Poppins', sans-serif;
Â Â Â Â Â Â background: url('https://wallpapercave.com/wp/wp9420280.jpg') no-repeat center center fixed;
Â Â Â Â Â Â background-size: cover;
Â Â Â Â }
Â Â Â Â .overlay {
Â Â Â Â Â Â position: fixed;
Â Â Â Â Â Â inset: 0;
Â Â Â Â Â Â background: rgba(0, 0, 0, 0.75);
Â Â Â Â Â Â z-index: -1;
Â Â Â Â }
Â Â Â Â .flash { animation: flashEffect 1s ease-in-out; }
Â Â Â Â @keyframes flashEffect {
Â Â Â Â Â Â 0% { background-color: rgba(255,255,255,0.4); }
Â Â Â Â Â Â 100% { background-color: transparent; }
Â Â Â Â }
Â Â </style>
</head>
<body class="text-white">
<div class="overlay"></div>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect } = React;
// === CONSTANTS ===
const normalPunishments = [
Â Â "Solve 50 maths questions", "Solve 100 GK questions", "Revise 2 topics",
Â Â "No social media 6 hrs", "Full mock analysis"
];
const deathModePunishments = [
Â Â "Study 6 hrs straight + summary", "200 questions + 50 push-ups",
Â Â "Watch 4-5 videos continue and learn", "2 Full mock test now + No phone 8 hrs + analysis", "Revise 8 topics + Cold shower"
];
const rewards = [
Â Â "Watch 1 anime episode", "Eat favorite snack", "Listen to music", "Take a relaxing walk", "watch insta for 20 mins"
];
// === DAILY QUEST EXERCISES (7 Days) ===
const weeklyQuestExercises = [
Â Â ["Curl Bar Overhead Press â€“ 4 Ã— 12","Dumbbell Lateral Raise â€“ 4 Ã— 15","Dumbbell Shrugs â€“ 3 Ã— 20","Reverse Fly â€“ 3 Ã— 15","Yoga: Bhujangasana â€“ 2 Ã— 30 sec"],
Â Â ["Curl Bar Bicep Curl â€“ 4 Ã— 12","Hammer Curl â€“ 3 Ã— 15","Overhead Dumbbell Tricep Extension â€“ 3 Ã— 12","Push-Ups â€“ 3 Ã— max","Yoga: Tadasana â€“ 1 min"],
Â Â ["Dumbbell Side Bend â€“ 4 Ã— 20 each","Russian Twist â€“ 3 Ã— 30 sec","Dumbbell Pullover â€“ 4 Ã— 12","Plank Hold â€“ 3 Ã— 40 sec","Yoga: Setu Bandhasana â€“ 2 Ã— 30 sec"],
Â Â ["Scapular Retraction â€“ 3 Ã— 12","Reverse Fly â€“ 3 Ã— 15","Dumbbell Front Raise â€“ 3 Ã— 12","Dumbbell Shrugs â€“ 3 Ã— 20","Yoga: Anulom Vilom â€“ 2 min"],
Â Â ["Overhead Press + Curl Superset â€“ 3 Ã— 12","Lateral Raise + Shrugs â€“ 3 rounds","Close-Grip Push-Ups â€“ 3 Ã— max","Hammer Curl â€“ 3 Ã— 15","Yoga: Surya Namaskar â€“ 3 rounds"],
Â Â ["Surya Namaskar â€“ 4 rounds","Bhujangasana + Shalabhasana â€“ 3 Ã— 30 sec","Vrikshasana â€“ 2 Ã— 30 sec","Bridge Pose â€“ 3 Ã— 30 sec","Kapalbhati â€“ 1 min"],
Â Â ["Cat-Cow Stretch â€“ 2 min","Wall Angel â€“ 3 Ã— 10","Anulom Vilom â€“ 2 min","Forward Bend Stretch â€“ 2 Ã— 20 sec","Childâ€™s Pose â€“ 2 Ã— 30 sec"]
];
Â Â const fogIncreaseOptions = [
Â Â "Mindless scrolling",
Â Â "Negative self-talk",
Â Â "Skipping exercise",
Â Â "Poor sleep",
Â Â "Porn or instant gratification",
Â Â "Avoiding tasks",
Â Â "Unhealthy food",
Â Â "Watching drama/TV",
Â Â "Overthinking",
Â Â "Unclear goals",
Â Â "Too much comfort"
];
const fogReduceOptions = [
Â Â "Cold shower",
Â Â "Breathing exercise",
Â Â "Meditation",
Â Â "Shadow work",
Â Â "Reading spiritual book",
Â Â "Walking outdoors",
Â Â "Doing deep work",
Â Â "Helping others",
Â Â "Waking early",
Â Â "Writing journal",
Â Â "Sunlight"
];
// === XP SYSTEM ===
const rankTitles = ['E-Rank Hunter','D-Rank','C-Rank','B-Rank','A-Rank','S-Rank'];
const characterImages = [
Â Â 'https://cdn.jsdelivr.net/gh/Ashwinvalento/cartoon-avatar@master/lib/images/male/45.png',
Â Â 'https://cdn.jsdelivr.net/gh/Ashwinvalento/cartoon-avatar@master/lib/images/male/20.png',
Â Â 'https://cdn.jsdelivr.net/gh/Ashwinvalento/cartoon-avatar@master/lib/images/female/68.png',
Â Â 'https://cdn.jsdelivr.net/gh/Ashwinvalento/cartoon-avatar@master/lib/images/female/21.png'
];
function getXPForLevel(level){ return level*level*100; }
function getRank(level){
Â Â if(level<5)return rankTitles[0];
Â Â if(level<10)return rankTitles[1];
Â Â if(level<15)return rankTitles[2];
Â Â if(level<20)return rankTitles[3];
Â Â if(level<25)return rankTitles[4];
Â Â return rankTitles[5];
}
// Rival XP constants
const DAILY_RIVAL_XP = 30;
const HOURLY_RIVAL_XP = DAILY_RIVAL_XP / 24;
Â Â // === MAIN APP ===
function App(){
Â Â const [xp,setXP]=useState(parseInt(localStorage.getItem('xp'))||0);
Â Â const [level,setLevel]=useState(parseInt(localStorage.getItem('level'))||1);
Â Â const [tasks,setTasks]=useState(JSON.parse(localStorage.getItem('tasks'))||[]);
Â Â const [taskLog, setTaskLog] = useState(JSON.parse(localStorage.getItem('taskLog')) || []);
Â Â const [habits,setHabits]=useState(JSON.parse(localStorage.getItem('habits'))||[]);
Â Â const [punishments,setPunishments]=useState(JSON.parse(localStorage.getItem('punishments'))||[]);
Â Â const [showAddModal,setShowAddModal]=useState(false);
Â Â const [newTask,setNewTask]=useState({type:'daily',title:'',start:'',end:'',days:''});
Â Â const [bossCountdown,setBossCountdown]=useState(parseInt(localStorage.getItem('bossCountdown'))||0);
Â Â const [rivalXP,setRivalXP]=useState(parseFloat(localStorage.getItem('rivalXP'))||0);
Â Â const [rivalLevel,setRivalLevel]=useState(parseInt(localStorage.getItem('rivalLevel'))||1);
Â Â const [behindDays,setBehindDays]=useState(parseInt(localStorage.getItem('behindDays'))||0);
Â Â const [showLevelUp,setShowLevelUp]=useState(false);
Â Â const [lockdown,setLockdown]=useState(false);
Â Â const [timer,setTimer]=useState(getRemainingBossTime());
Â Â const [showDailyQuest,setShowDailyQuest]=useState(false);
Â Â const [dailyQuestList,setDailyQuestList]=useState([]);
Â Â const [dopamineActive, setDopamineActive] = useState(JSON.parse(localStorage.getItem('dopamineActive')) || false);
Â Â const [dopamineLevel, setDopamineLevel] = useState(parseFloat(localStorage.getItem('dopamineLevel')) || 100);
Â Â const [showUrgeModal, setShowUrgeModal] = useState(false);
Â Â const [urgeTask, setUrgeTask] = useState('');
Â Â const urgeTasks = [
Â Â "Do 10 push-ups now!",
Â Â "sleep on left side.",
Â Â "Take 10 deep breaths.",
Â Â "Drink a glass of water.",
Â Â "Do 10 squat."
Â Â Â ];
Â Â const [fogLevel, setFogLevel] = useState(20); // Starts at 20%
Â Â const [fogReason, setFogReason] = useState('');
Â Â function triggerUrgeRedirect() {
Â Â setUrgeTask(urgeTasks[Math.floor(Math.random() * urgeTasks.length)]);
Â Â setShowUrgeModal(true);
Â Â // Auto complete after 10 sec
Â Â setTimeout(() => {
Â Â Â Â if (showUrgeModal) {
Â Â Â Â Â Â handleUrgeComplete();
Â Â Â Â }
Â Â }, 10000);
Â Â }
Â Â function handleUrgeComplete() {
Â Â setShowUrgeModal(false);
Â Â setXP(prevXP => prevXP + 3); // Reward +3 XP
}
function handleUrgeSkip() {
Â Â setShowUrgeModal(false);
Â Â setXP(prevXP => Math.max(0, prevXP - 5)); // -5 XP
Â Â setRivalXP(prev => prev + 5); // Rival +5 XP
Â Â Â Â }
Â Â // === RELAPSE ===
Â Â function handleRelapse(){
Â Â Â Â if(confirm("Are you sure? Relapse will cost 50 XP!")){
Â Â Â Â Â Â setXP(Math.max(0,xp-50));
Â Â Â Â }
Â Â }
Â Â function checkTaskDeadlines() {
Â Â const now = new Date();
Â Â let updatedTasks = [...tasks];
Â Â let missedTasks = [];
Â Â updatedTasks.forEach(task => {
Â Â Â Â if (!task.done) {Â Â // Ensure we only check incomplete tasks
Â Â Â Â Â Â if (task.type === 'daily') {
Â Â Â Â Â Â Â Â const [endH, endM] = task.end.split(':');
Â Â Â Â Â Â Â Â const endTime = new Date();
Â Â Â Â Â Â Â Â endTime.setHours(endH, endM, 0, 0);
Â Â Â Â Â Â Â Â if (now > endTime) missedTasks.push(task);
Â Â Â Â Â Â } else if (task.type === 'timed') {
Â Â Â Â Â Â Â Â const createdDate = new Date(task.created);
Â Â Â Â Â Â Â Â const deadline = new Date(createdDate);
Â Â Â Â Â Â Â Â deadline.setDate(createdDate.getDate() + parseInt(task.days || 0));
Â Â Â Â Â Â Â Â if (now > deadline) missedTasks.push(task);
Â Â Â Â Â Â }
Â Â Â Â }
Â Â });
Â Â if (missedTasks.length > 0) {
Â Â Â Â // Remove missed tasks
Â Â Â Â updatedTasks = updatedTasks.filter(t => !missedTasks.includes(t));
Â Â Â Â setTasks(updatedTasks);
Â Â Â Â // Lockdown and punishment
Â Â Â Â missedTasks.forEach(task => {
Â Â Â Â Â Â const randomPunishment = normalPunishments[Math.floor(Math.random() * normalPunishments.length)];
addPunishment({
Â Â type: 'taskMissed',
Â Â text: `You missed: ${task.title}\nPunishment: ${randomPunishment}`,
Â Â deathMode: false
});
Â Â Â Â Â Â 
Â Â Â Â });
Â Â }
Â Â }
Â Â // === BOSS TIMER ===
Â Â function startBossTimer(hours){
Â Â Â Â const endTime=Date.now()+hours*60*60*1000;
Â Â Â Â localStorage.setItem('bossEndTime',endTime);
Â Â Â Â setTimer(endTime-Date.now());
Â Â }
Â Â function getRemainingBossTime(){
Â Â Â Â const endTime=parseInt(localStorage.getItem('bossEndTime'))||0;
Â Â Â Â const now=Date.now();
Â Â Â Â return Math.max(0,endTime-now);
Â Â }
Â Â function formatTime(ms){
Â Â Â Â const totalSeconds=Math.floor(ms/1000);
Â Â Â Â const hrs=Math.floor(totalSeconds/3600);
Â Â Â Â const mins=Math.floor((totalSeconds%3600)/60);
Â Â Â Â const secs=totalSeconds%60;
Â Â Â Â return `${hrs}h ${mins}m ${secs}s`;
Â Â }
// === Decay System Effect ===
Â Â 
Â Â // === Timer Update ===
Â Â useEffect(()=>{
Â Â Â Â const interval=setInterval(()=>{ setTimer(getRemainingBossTime()); },1000);
Â Â Â Â return()=>clearInterval(interval);
Â Â },[]);
Â Â useEffect(() => {
Â Â const interval = setInterval(checkTaskDeadlines, 30000); // check every 30 sec
Â Â return () => clearInterval(interval);
}, [tasks]);
Â Â 
 useEffect(() => {
Â Â const today = new Date();
Â Â let lastDungeonDate = localStorage.getItem('lastDungeonDate');
Â Â if (!lastDungeonDate) {
Â Â Â Â localStorage.setItem('lastDungeonDate', today);
Â Â Â Â lastDungeonDate = today;
Â Â }
Â Â const diffDays = Math.floor((today - new Date(lastDungeonDate)) / (1000  60  60 * 24));
Â Â if (diffDays >= 10 && !punishments.some(p => p.type === 'dungeon')) {
Â Â Â Â addPunishment({
Â Â Â Â Â Â type: 'dungeon',
Â Â Â Â Â Â text: "Dungeon Boss! Complete 20 tasks within 24 hrs!",
Â Â Â Â Â Â deathMode: true
Â Â Â Â });
Â Â Â Â startBossTimer(24); // 24 hrs for challenge
Â Â Â Â localStorage.setItem('lastDungeonDate', today);
Â Â Â Â setTaskLog([]); // Reset log for tracking new tasks
Â Â }
}, [punishments]);
Â Â // === SAVE DATA ===
Â Â useEffect(()=>{
Â Â Â Â localStorage.setItem('xp',xp);
Â Â Â Â localStorage.setItem('level',level);
Â Â Â Â localStorage.setItem('tasks',JSON.stringify(tasks));
Â Â Â Â localStorage.setItem('habits',JSON.stringify(habits));
Â Â Â Â localStorage.setItem('punishments',JSON.stringify(punishments));
Â Â Â Â localStorage.setItem('bossCountdown',bossCountdown);
Â Â Â Â localStorage.setItem('rivalXP',rivalXP);
Â Â Â Â localStorage.setItem('rivalLevel',rivalLevel);
Â Â Â Â localStorage.setItem('taskLog', JSON.stringify(taskLog));
Â Â Â Â localStorage.setItem('behindDays',behindDays);
Â Â Â Â localStorage.setItem('dailyQuestList',JSON.stringify(dailyQuestList));
Â Â },[xp,level,tasks,habits,punishments,bossCountdown,rivalXP,rivalLevel,behindDays,dailyQuestList]);
Â Â // === LEVEL UP ===
Â Â useEffect(()=>{
Â Â Â Â if(xp>=getXPForLevel(level)){
Â Â Â Â Â Â setXP(xp-getXPForLevel(level));
Â Â Â Â Â Â setLevel(level+1);
Â Â Â Â Â Â setShowLevelUp(true);
Â Â Â Â Â Â setTimeout(()=>setShowLevelUp(false),2000);
Â Â Â Â }
Â Â },[xp]);
Â Â // Dopamine Detox System
useEffect(() => {
Â Â let interval;
Â Â if (dopamineActive && dopamineLevel > 0) {
Â Â Â Â interval = setInterval(() => {
Â Â Â Â Â Â setDopamineLevel(prev => {
Â Â Â Â Â Â Â Â const newLevel = Math.max(prev - (100 / (2  60  60)), 0);
Â Â Â Â Â Â Â Â localStorage.setItem('dopamineLevel', newLevel);
Â Â Â Â Â Â Â Â return newLevel;
Â Â Â Â Â Â });
Â Â Â Â }, 1000);
Â Â }
Â Â return () => clearInterval(interval);
}, [dopamineActive]);
// Save toggle state
useEffect(() => {
Â Â localStorage.setItem('dopamineActive', JSON.stringify(dopamineActive));
}, [dopamineActive]);
// Penalty when dopamine hits 0
useEffect(() => {
Â Â if (dopamineLevel === 0) {
Â Â Â Â alert("âš ï¸ Dopamine depleted! Apply punishment now!");
Â Â Â Â setDopamineActive(false);
Â Â Â Â // Optional: Trigger punishment system
Â Â Â Â addPunishment({
Â Â Â Â Â Â type: 'dopamineFail',
Â Â Â Â Â Â text: "Dopamine Bar Empty! Punishment: Solve 100 questions + No social media 6 hrs",
Â Â Â Â Â Â deathMode: true
Â Â Â Â });
Â Â }
}, [dopamineLevel]);
Â Â useEffect(() => {
Â Â const today = new Date().toLocaleDateString();
Â Â const lastFogReset = localStorage.getItem("fogReset");
Â Â if (lastFogReset !== today) {
Â Â Â Â setFogLevel(20);
Â Â Â Â localStorage.setItem("fogReset", today);
Â Â }
}, []);
Â Â useEffect(() => {
Â Â // Fog level penalty/reward at end of day
Â Â const today = new Date().toLocaleDateString();
Â Â const lastCheck = localStorage.getItem("fogDate");
Â Â if (lastCheck !== today) {
Â Â Â Â if (fogLevel > 70) {
Â Â Â Â Â Â setXP(prev => Math.max(0, prev - 5));
Â Â Â Â } else if (fogLevel < 30) {
Â Â Â Â Â Â setXP(prev => prev + 5);
Â Â Â Â }
Â Â Â Â localStorage.setItem("fogDate", today);
Â Â }
}, []);
Â Â // Boss Fight Check
useEffect(() => {
Â Â // === Small Boss after 7 tasks ===
Â Â if (bossCountdown >= 7 && !punishments.some(p => p.type === 'boss')) {
Â Â Â Â addPunishment({
Â Â type: 'boss',
Â Â text: "Revision Boss Fight! Complete within 3 hrs!",
Â Â deathMode: true
});
Â Â Â Â startBossTimer(3); // 3 hrs
Â Â Â Â setBossCountdown(0);
Â Â }
Â Â // === Weekly Boss every Sunday ===
Â Â const today = new Date().getDay();
Â Â if (today === 0 && localStorage.getItem('weeklyBossTriggered') !== 'true') {
Â Â const randomDeathPunishment = deathModePunishments[Math.floor(Math.random() * deathModePunishments.length)];
Â Â addPunishment({
Â Â Â Â type: 'weeklyBoss',
Â Â Â Â text: `Dont die until its Complete within 10 hrs!\nPunishment: ${randomDeathPunishment}`,
Â Â Â Â deathMode: true
Â Â });
Â Â startBossTimer(10); // 10 hrs timer
Â Â localStorage.setItem('weeklyBossTriggered', 'true');
Â Â }
Â Â if (today !== 0) {
Â Â Â Â localStorage.setItem('weeklyBossTriggered', 'false');
Â Â }
Â Â // === Dungeon Boss if 20 tasks in 24 hrs ===
Â Â if (taskLog.length >= 20 && !punishments.some(p => p.type === 'dungeon')) {
Â Â Â Â addPunishment({
Â Â Â Â Â Â type: 'dungeon',
Â Â Â Â Â Â text: "Dungeon Boss! Complete within 24 hrs!",
Â Â Â Â Â Â deathMode: true
Â Â Â Â });
Â Â Â Â startBossTimer(24);
Â Â Â Â setTaskLog([]); // reset dungeon log
Â Â }
}, [bossCountdown, taskLog]);
Â Â useEffect(() => {
Â Â const interval = setInterval(() => {
Â Â Â Â const remaining = getRemainingBossTime();
Â Â Â Â setTimer(remaining);
Â Â Â Â if (remaining <= 0 && punishments.length > 0) {
Â Â Â Â Â Â const current = punishments[0];
Â Â Â Â Â Â if (['boss', 'weeklyBoss', 'dungeon'].includes(current.type)) {
Â Â Â Â Â Â Â Â // Boss failed
Â Â Â Â Â Â Â Â setXP(Math.max(0, xp - 30)); // Penalty
Â Â Â Â Â Â Â Â setRivalXP(prev => prev + 20); // Rival advantage
Â Â Â Â Â Â Â Â completePunishment(); // Remove boss punishment
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }, 1000);
Â Â return () => clearInterval(interval);
}, [punishments]);
Â Â // === Rival XP Auto Update ===
Â Â useEffect(() => {
Â Â Â Â const updateRivalXP = () => {
Â Â Â Â Â Â const now = Date.now();
Â Â Â Â Â Â const lastUpdate = parseInt(localStorage.getItem('lastRivalUpdate')) || now;
Â Â Â Â Â Â const hoursPassed = Math.floor((now - lastUpdate) / 3600000);
Â Â Â Â Â Â if (hoursPassed > 0) {
Â Â Â Â Â Â Â Â setRivalXP(prev => {
Â Â Â Â Â Â Â Â Â Â let newXP = prev + (HOURLY_RIVAL_XP * hoursPassed);
Â Â Â Â Â Â Â Â Â Â while (newXP >= getXPForLevel(rivalLevel)) {
Â Â Â Â Â Â Â Â Â Â Â Â newXP -= getXPForLevel(rivalLevel);
Â Â Â Â Â Â Â Â Â Â Â Â setRivalLevel(lvl => lvl + 1);
Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â return newXP;
Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â localStorage.setItem('lastRivalUpdate', now);
Â Â Â Â Â Â }
Â Â Â Â };
Â Â Â Â updateRivalXP();
Â Â Â Â const interval = setInterval(updateRivalXP, 3600000);
Â Â Â Â return () => clearInterval(interval);
Â Â }, [rivalLevel]);
Â Â useEffect(() => {
Â Â const now = Date.now();
Â Â const lastCheck = parseInt(localStorage.getItem('last3DayCheck')) || 0;
Â Â const diffDays = Math.floor((now - lastCheck) / (1000  60  60 * 24));
Â Â if (diffDays >= 3) {
Â Â Â Â // Update last check date
Â Â Â Â localStorage.setItem('last3DayCheck', now);
Â Â Â Â // Check if rival is ahead
Â Â Â Â const rivalAhead = rivalLevel > level || (rivalLevel === level && rivalXP > xp);
Â Â Â Â if (rivalAhead) {
Â Â Â Â Â Â const randomDeathPunishment = deathModePunishments[Math.floor(Math.random() * deathModePunishments.length)];
Â Â Â Â Â Â addPunishment({
Â Â Â Â Â Â Â Â type: 'deathRival',
Â Â Â Â Â Â Â Â text: `Rival is ahead after 3 days! Punishment: ${randomDeathPunishment}`,
Â Â Â Â Â Â Â Â deathMode: true
Â Â Â Â Â Â });
Â Â Â Â }
Â Â }
}, [xp, level, rivalXP, rivalLevel]);
Â Â // === Daily Quest System ===
Â Â useEffect(() => {
Â Â Â Â const today = new Date().toDateString();
Â Â Â Â const lastReset = localStorage.getItem('lastQuestReset');
Â Â Â Â const todayIndex = new Date().getDay();
Â Â Â Â if (lastReset !== today) {
Â Â Â Â Â Â const resetQuests = (weeklyQuestExercises[todayIndex] || weeklyQuestExercises[0])
Â Â Â Â Â Â Â Â .map(e => ({ title: e, done: false }));
Â Â Â Â Â Â setDailyQuestList(resetQuests);
Â Â Â Â Â Â localStorage.setItem('lastQuestReset', today);
Â Â Â Â Â Â localStorage.setItem('dailyQuestList', JSON.stringify(resetQuests));
Â Â Â Â Â Â setShowDailyQuest(true);
Â Â Â Â } else {
Â Â Â Â Â Â const saved = JSON.parse(localStorage.getItem('dailyQuestList')) || [];
Â Â Â Â Â Â setDailyQuestList(saved);
Â Â Â Â Â Â setShowDailyQuest(!saved.every(q => q.done));
Â Â Â Â }
Â Â }, []);
Â Â function toggleQuestDone(index){
Â Â Â Â const updated=[...dailyQuestList];
Â Â Â Â updated[index].done=!updated[index].done;
Â Â Â Â setDailyQuestList(updated);
Â Â Â Â localStorage.setItem('dailyQuestList',JSON.stringify(updated));
Â Â Â Â if(updated.every(q=>q.done)){
Â Â Â Â Â Â setShowDailyQuest(false);
Â Â Â Â Â Â setXP(xp+10);
Â Â Â Â }
Â Â }
Â Â function failDailyQuest(){
Â Â setShowDailyQuest(false);
Â Â const randomDeathPunishment = deathModePunishments[Math.floor(Math.random() * deathModePunishments.length)];
Â Â addPunishment({
Â Â Â Â type: 'questFail',
Â Â Â Â text: `Daily Quest Failed! Punishment: ${randomDeathPunishment}`,
Â Â Â Â deathMode: true
Â Â });
Â Â }
Â Â // === Add / Complete Tasks ===
Â Â function addPunishment(p){
Â Â Â Â setPunishments([...punishments,p]);
Â Â Â Â setLockdown(true);
Â Â }
Â Â function completePunishment(){
Â Â Â Â const [first,...rest]=punishments;
Â Â Â Â let gain=0;
Â Â Â Â if(first.type==='boss')gain=4;
Â Â Â Â if(first.type==='weeklyBoss')gain=10;
Â Â Â Â if(first.type==='dungeon')gain=20;
Â Â Â Â setXP(xp+gain);
Â Â Â Â if(['boss','weeklyBoss','dungeon'].includes(first.type)){
Â Â Â Â Â Â setRivalXP(prev=>prev+Math.floor(gain/2));
Â Â Â Â }
Â Â Â Â if(first.deathMode){
Â Â Â Â Â Â alert(`Reward: ${rewards[Math.floor(Math.random()*rewards.length)]}`);
Â Â Â Â }
Â Â Â Â setPunishments(rest);
Â Â Â Â if(rest.length===0)setLockdown(false);
Â Â }
Â Â function forgivePunishment() {
Â Â const current = punishments[0];
Â Â let penalty = current.deathMode ? 25 : 10; // DeathMode = 25 XP, Normal = 10 XP
Â Â // Subtract XP but not below 0
Â Â setXP(prevXP => Math.max(0, prevXP - penalty));
Â Â // Rival gains XP equal to penalty
Â Â setRivalXP(prev => prev + penalty);
Â Â // Remove punishment without giving reward
Â Â const [, ...rest] = punishments;
Â Â setPunishments(rest);
Â Â // If no punishments left, disable lockdown
Â Â if (rest.length === 0) setLockdown(false);
}
Â Â function addTask(){
Â Â Â Â if(!newTask.title)return;
Â Â Â Â const id=Date.now();
Â Â Â Â const task={...newTask,id,done:false,created:new Date().toISOString()};
Â Â Â Â if(newTask.type==='habit'){setHabits([...habits,task]);}
Â Â Â Â else{setTasks([...tasks,task]);}
Â Â Â Â setShowAddModal(false);
Â Â Â Â setNewTask({type:'daily',title:'',start:'',end:'',days:''});
Â Â }
Â Â function completeTask(id) {
Â Â const completedTask = tasks.find(t => t.id === id);
Â Â setTasks(tasks.filter(t => t.id !== id));
Â Â setXP(xp + 2);
Â Â // Add to task log (for small boss reference)
Â Â const updatedLog = [...taskLog, completedTask.title].slice(-7); // Keep only last 7
Â Â setTaskLog(updatedLog);
Â Â // If Dungeon Boss active, still track separately for 20-task logic
Â Â if (punishments.some(p => p.type === 'dungeon')) {
Â Â Â Â if (updatedLog.length >= 20) {
Â Â Â Â Â Â completePunishment(); // Dungeon Boss Cleared
Â Â Â Â }
Â Â }
Â Â setBossCountdown(bossCountdown + 1);
Â Â Â Â }
Â Â function completeHabit(id){
Â Â Â Â const updated=habits.map(h=>h.id===id?{...h,done:true}:h);
Â Â Â Â setHabits(updated);
Â Â Â Â setXP(xp+1);
Â Â }
Â Â function deleteHabit(id){setHabits(habits.filter(h=>h.id!==id));}
Â Â return (
Â Â Â Â <div className={"p-4 max-w-md mx-auto bg-black bg-opacity-70 rounded-lg mt-4 shadow-lg "+(showLevelUp?'flash':'')}>
Â Â Â Â Â Â {/* Header */}
Â Â Â Â Â Â <header className="text-center mb-4">
Â Â Â Â Â Â Â Â <h1 className="text-2xl font-bold">SHADOW ARISE</h1>
Â Â Â Â Â Â Â Â <p className="mt-1">Level {level} ({getRank(level)})</p>
Â Â Â Â Â Â Â Â <div className="w-full bg-gray-700 rounded h-3 mt-2 overflow-hidden">
Â Â Â Â Â Â Â Â Â Â <div className="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded" style={{width:`${(xp/getXPForLevel(level))*100}%`}}></div>
Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â <p className="text-sm mt-1">{xp} / {getXPForLevel(level)} XP</p>
Â Â Â Â Â Â Â Â <img src={characterImages[Math.min(level-1,characterImages.length-1)]} className="mx-auto w-24 mt-3 rounded-full border-2 border-purple-400"/>
Â Â Â Â Â Â Â Â <p className="mt-2 text-sm">Rival: Level {rivalLevel} | XP: {Math.floor(rivalXP)}</p>
Â Â Â Â Â Â Â Â <p className="mt-1 text-sm font-bold">
Â Â {rivalLevel > level || (rivalLevel === level && rivalXP > xp)
Â Â Â Â ? "ðŸ”¥ Rival is ahead of you!"
Â Â Â Â : "âœ… You are ahead of your rival"}
</p>
Â Â Â Â Â Â Â Â <button onClick={handleRelapse} className="bg-red-500 mt-3 px-4 py-2 rounded w-full">Relapse (-50 XP)</button>
Â Â Â Â Â Â Â Â {/* Urge Redirect Button */}
<button
Â Â onClick={triggerUrgeRedirect}
Â Â className="bg-purple-500 mt-3 px-4 py-2 rounded w-full"
>
Â Â I Have an Urge
</button>
{/* Urge Modal */}
{showUrgeModal && (
Â Â <div className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50">
Â Â Â Â <div className="bg-gray-800 p-5 rounded text-center max-w-sm">
Â Â Â Â Â Â <h2 className="text-xl font-bold mb-3">Redirect Your Urge</h2>
Â Â Â Â Â Â <p className="mb-4">{urgeTask}</p>
Â Â Â Â Â Â <p className="text-red-400 mb-3">Wait for 10 seconds...</p>
Â Â Â Â Â Â <div className="flex gap-3 justify-center">
Â Â Â Â Â Â Â Â <button
Â Â Â Â Â Â Â Â Â Â onClick={handleUrgeComplete}
Â Â Â Â Â Â Â Â Â Â className="bg-green-500 px-4 py-2 rounded"
Â Â Â Â Â Â Â Â >
Â Â Â Â Â Â Â Â Â Â Done (+3 XP)
Â Â Â Â Â Â Â Â </button>
Â Â Â Â Â Â Â Â <button
Â Â Â Â Â Â Â Â Â Â onClick={handleUrgeSkip}
Â Â Â Â Â Â Â Â Â Â className="bg-red-500 px-4 py-2 rounded"
Â Â Â Â Â Â Â Â >
Â Â Â Â Â Â Â Â Â Â Skip (-5 XP)
Â Â Â Â Â Â Â Â </button>
Â Â Â Â Â Â </div>
Â Â Â Â </div>
Â Â </div>
)}
Â Â Â Â Â Â </header>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â {/* Dopamine Detox Section */}
<div className="mt-5">
Â Â <h2 className="text-lg mb-2 font-semibold">Dopamine Detox</h2>
Â Â <div className="flex justify-between items-center mb-2">
Â Â Â Â <span>Detox Mode</span>
Â Â Â Â <label className="switch">
Â Â Â Â Â Â <input
Â Â Â Â Â Â Â Â type="checkbox"
Â Â Â Â Â Â Â Â checked={dopamineActive}
Â Â Â Â Â Â Â Â onChange={() => setDopamineActive(!dopamineActive)}
Â Â Â Â Â Â />
Â Â Â Â Â Â <span className="slider round"></span>
Â Â Â Â </label>
Â Â </div>
Â Â <div className="w-full bg-gray-700 rounded h-3 mt-2 overflow-hidden">
Â Â Â Â <div
Â Â Â Â Â Â className="bg-green-500 h-3"
Â Â Â Â Â Â style={{ width: `${dopamineLevel}%` }}
Â Â Â Â ></div>
Â Â </div>
Â Â <p className="text-sm mt-1">Dopamine Level: {dopamineLevel.toFixed(1)}%</p>
</div>
Â Â Â Â Â Â <div className="mt-5">
Â Â <h2 className="text-lg mb-2 font-semibold">Fog Meter</h2>
Â Â <div className="w-full bg-gray-700 rounded h-3 mt-2 overflow-hidden">
Â Â Â Â <div
Â Â Â Â Â Â className={`h-3 ${fogLevel < 40 ? 'bg-green-500' : fogLevel < 70 ? 'bg-yellow-500' : 'bg-red-500'}`}
Â Â Â Â Â Â style={{ width: `${fogLevel}%` }}
Â Â Â Â ></div>
Â Â </div>
Â Â <p className="text-sm mt-1">Fog Level: {fogLevel.toFixed(0)}%</p>
Â Â {/* Fog Reason Dropdown */}
Â Â <div className="mt-3">
Â Â Â Â <p className="text-sm font-semibold mb-1">Adjust Fog Level</p>
Â Â Â Â <select
Â Â Â Â Â Â onChange={(e) => setFogReason(e.target.value)}
Â Â Â Â Â Â className="w-full text-black p-2 rounded"
Â Â Â Â Â Â value={fogReason}
Â Â Â Â >
Â Â Â Â Â Â <option value="">-- Select a reason --</option>
Â Â Â Â Â Â <optgroup label="Increase Fog">
Â Â Â Â Â Â Â Â {fogIncreaseOptions.map((item, index) => (
Â Â Â Â Â Â Â Â Â Â <option key={`inc-${index}`} value={`inc-${item}`}>{item}</option>
Â Â Â Â Â Â Â Â ))}
Â Â Â Â Â Â </optgroup>
Â Â Â Â Â Â <optgroup label="Reduce Fog">
Â Â Â Â Â Â Â Â {fogReduceOptions.map((item, index) => (
Â Â Â Â Â Â Â Â Â Â <option key={`dec-${index}`} value={`dec-${item}`}>{item}</option>
Â Â Â Â Â Â Â Â ))}
Â Â Â Â Â Â </optgroup>
Â Â Â Â </select>
Â Â Â Â {fogReason && (
Â Â Â Â Â Â <button
Â Â Â Â Â Â Â Â className="bg-blue-500 mt-2 px-4 py-2 rounded w-full"
Â Â Â Â Â Â Â Â onClick={() => {
Â Â Â Â Â Â Â Â Â Â if (fogReason.startsWith("inc-")) {
Â Â Â Â Â Â Â Â Â Â Â Â setFogLevel(Math.min(100, fogLevel + 5));
Â Â Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â Â Â setFogLevel(Math.max(0, fogLevel - 5));
Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â setFogReason('');
Â Â Â Â Â Â Â Â }}
Â Â Â Â Â Â >
Â Â Â Â Â Â Â Â Confirm
Â Â Â Â Â Â </button>
Â Â Â Â )}
Â Â </div>
</div>
Â Â Â Â Â Â {/* Punishment Modal */}
Â Â Â Â Â Â {punishments.length>0 && (
Â Â Â Â Â Â Â Â <div className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4">
Â Â Â Â Â Â Â Â Â Â <div className="bg-gray-800 p-5 rounded w-full max-w-sm text-center">
Â Â Â Â Â Â Â Â Â Â Â Â <h2 className="text-xl font-bold mb-3">Punishment</h2>
Â Â Â Â Â Â Â Â Â Â Â Â <pre className="mb-3 whitespace-pre-wrap text-left">{punishments[0].text}</pre>
Â Â Â Â Â Â Â Â Â Â Â Â {/* Show last 7 tasks for Small Boss */}
{punishments[0].type === 'boss' && taskLog.length > 0 && (
Â Â <div className="text-left mb-3">
Â Â Â Â <h3 className="font-semibold mb-1">Last 7 Tasks:</h3>
Â Â Â Â <ul className="list-disc list-inside text-sm">
Â Â Â Â Â Â {taskLog.slice(-7).map((t, i) => (
Â Â Â Â Â Â Â Â <li key={i}>{t}</li>
Â Â Â Â Â Â ))}
Â Â Â Â </ul>
Â Â </div>
)}
Â Â Â Â Â Â Â Â Â Â Â Â {['boss','weeklyBoss','dungeon'].includes(punishments[0].type) && (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <p className="mt-2 text-red-400 text-lg font-bold">Time Left: {formatTime(timer)}</p>
Â Â Â Â Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â Â Â Â Â Â Â <div className="flex flex-col gap-2 mt-4">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={completePunishment} className="bg-green-500 py-2 rounded">Complete</button>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button 
Â Â onClick={forgivePunishment} 
Â Â className="bg-yellow-500 py-2 rounded"
>
Â Â Forgive (-{punishments[0].deathMode ? 25 : 10} XP)
</button>
Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â )}
Â Â Â Â Â Â {/* Daily Quest Modal */}
Â Â Â Â Â Â {showDailyQuest && (
Â Â Â Â Â Â Â Â <div className="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4">
Â Â Â Â Â Â Â Â Â Â <div className="bg-gray-900 p-5 rounded w-full max-w-sm">
Â Â Â Â Â Â Â Â Â Â Â Â <h2 className="text-lg mb-4 font-semibold text-center">Daily Quest</h2>
Â Â Â Â Â Â Â Â Â Â Â Â {dailyQuestList.map((q,i)=>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div key={i} className="flex justify-between mb-2 text-sm">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span>{q.title}</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={()=>toggleQuestDone(i)} className={`px-2 py-1 rounded ${q.done?"bg-green-500":"bg-blue-500"}`}>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {q.done?"Done":"Mark"}
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </button>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â Â Â ))}
Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={failDailyQuest} className="bg-red-500 w-full py-2 mt-4 rounded">Fail Quest</button>
Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â )}
Â Â Â Â Â Â {/* Tasks Section */}
Â Â Â Â Â Â <div className="mt-5">
Â Â Â Â Â Â Â Â <h2 className="text-lg mb-2 font-semibold">Tasks</h2>
Â Â Â Â Â Â Â Â <div className="mb-3 flex justify-end">
Â Â Â Â Â Â Â Â Â Â {!lockdown && (
Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={()=>setShowAddModal(true)} className="bg-blue-500 px-3 py-1 rounded">+ Add Task</button>
Â Â Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â {tasks.length===0?(
Â Â Â Â Â Â Â Â Â Â <p className="text-center text-gray-400">No tasks yet.</p>
Â Â Â Â Â Â Â Â ):(
Â Â Â Â Â Â Â Â Â Â tasks.map(task=>(
Â Â Â Â Â Â Â Â Â Â Â Â <div key={task.id} className="bg-gray-800 p-3 rounded mb-2 flex justify-between items-center">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <p className="font-bold text-sm">{task.title}</p>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <p className="text-xs text-gray-400">{task.type==='daily'?`Time: ${task.start}-${task.end}`:`Deadline: ${task.days} days`}</p>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â {!lockdown && (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={()=>completeTask(task.id)} className="bg-green-500 px-2 py-1 rounded text-sm">Done</button>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â ))
Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â </div>
Â Â Â Â Â Â {/* Habits Section */}
Â Â Â Â Â Â <div className="mt-5">
Â Â Â Â Â Â Â Â <h2 className="text-lg mb-2 font-semibold">Habits</h2>
Â Â Â Â Â Â Â Â {habits.length===0?(
Â Â Â Â Â Â Â Â Â Â <p className="text-center text-gray-400">No habits yet.</p>
Â Â Â Â Â Â Â Â ):(
Â Â Â Â Â Â Â Â Â Â habits.map(h=>(
Â Â Â Â Â Â Â Â Â Â Â Â <div key={h.id} className="bg-gray-800 p-3 rounded mb-2 flex justify-between items-center text-sm">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <p className="font-bold">{h.title}</p>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={()=>completeHabit(h.id)} disabled={h.done||lockdown} className={`px-2 py-1 rounded ${h.done?"bg-gray-500":"bg-green-500"}`}>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {h.done?"Done":"Mark"}
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </button>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {!lockdown && (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={()=>deleteHabit(h.id)} className="bg-red-500 px-2 py-1 ml-1 rounded">Delete</button>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â ))
Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â </div>
Â Â Â Â Â Â {/* Add Task Modal */}
Â Â Â Â Â Â {showAddModal && (
Â Â Â Â Â Â Â Â <div className="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4">
Â Â Â Â Â Â Â Â Â Â <div className="bg-gray-900 p-5 rounded w-full max-w-sm">
Â Â Â Â Â Â Â Â Â Â Â Â <h2 className="text-lg mb-4 font-semibold">Add Task</h2>
Â Â Â Â Â Â Â Â Â Â Â Â <select value={newTask.type} onChange={e=>setNewTask({...newTask,type:e.target.value})} className="mb-3 w-full p-2 text-black rounded">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="daily">Daily</option>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="timed">Timed</option>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="habit">Habit</option>
Â Â Â Â Â Â Â Â Â Â Â Â </select>
Â Â Â Â Â Â Â Â Â Â Â Â <input value={newTask.title} onChange={e=>setNewTask({...newTask,title:e.target.value})} placeholder="Task Title" className="mb-3 w-full p-2 text-black rounded"/>
Â Â Â Â Â Â Â Â Â Â Â Â {newTask.type==='daily' && (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div className="flex gap-2 mb-3">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="time" value={newTask.start} onChange={e=>setNewTask({...newTask,start:e.target.value})} className="p-2 text-black rounded w-1/2"/>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="time" value={newTask.end} onChange={e=>setNewTask({...newTask,end:e.target.value})} className="p-2 text-black rounded w-1/2"/>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â Â Â Â Â Â Â {newTask.type==='timed' && (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="number" placeholder="Days" value={newTask.days} onChange={e=>setNewTask({...newTask,days:e.target.value})} className="mb-3 w-full p-2 text-black rounded"/>
Â Â Â Â Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â Â Â Â Â Â Â <div className="flex gap-2">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={addTask} className="bg-blue-500 flex-1 py-2 rounded">Add</button>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onClick={()=>setShowAddModal(false)} className="bg-red-500 flex-1 py-2 rounded">Cancel</button>
Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â )}
Â Â Â Â </div>
Â Â );
}
ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script>
